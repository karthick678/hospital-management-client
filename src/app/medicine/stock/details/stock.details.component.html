<div class="stock-details-component">
    <div>
        <ul class="breadcrumb">
            <li><a class="atag" routerLink="/app/medicine/stock/list">Stocks</a>
                <md-icon>chevron_right</md-icon>
            </li>
            <li>
                <p>{{ stockName }}</p>
            </li>
        </ul>
        <div class="float-right">
            <button md-raised-button (click)="deleteConfirm()" *ngIf="stock._id">Delete</button>
            <button md-raised-button class="mat-primary" routerLink="/app/medicine/stock/details/new">New Stock</button>
        </div>
        <p class="clearfix"></p>
    </div>
    <div fxLayout fxLayout.xs="column" fxLayoutGap="10px">
        <div fxFlex="150px">
            <div class="stock-img">
                <md-icon>local_pharmacy</md-icon>
            </div>
            <div class="field-status">
                <p><b>Status</b></p>
                <md-slide-toggle [(ngModel)]="stock.status">
                </md-slide-toggle>
            </div>
        </div>
        <div fxFlex="100%">
            <form (ngSubmit)="onSubmit()">
                <div fxLayout fxLayout.xs="column" fxLayoutGap="10px">
                    <md-input-container fxFlex="33%">
                        <input type="text" mdInput placeholder="Name" [(ngModel)]="stock.name" name="name">
                    </md-input-container>
                    <!-- <md-select placeholder="Category" fxFlex="33%" class="field-category" [(ngModel)]="stock.category" name="category">
                        <md-option *ngFor="let category of categoriesList" [value]="category.value">
                            {{ category.name }}
                        </md-option>
                    </md-select> -->
                    <!-- <md-autocomplete placeholder="Category" #auto="mdAutocomplete">
                        <md-option *ngFor="let category of categoriesList" [value]="category.value">
                            {{ category.name }}
                        </md-option>
                    </md-autocomplete> -->
                    <md-form-field fxFlex="33%">
                        <input type="text" placeholder="Category" aria-label="Assignee" mdInput [formControl]="myControl" [mdAutocomplete]="auto">
                        <md-autocomplete #auto="mdAutocomplete" [displayWith]="displayFn">
                            <md-option *ngFor="let category of categoriesList | async" [value]="category.value">
                                {{ category.name }}
                            </md-option>
                        </md-autocomplete>
                    </md-form-field> 
                    <md-input-container fxFlex="33%">
                        <input type="text" mdInput placeholder="Price" [(ngModel)]="stock.price" name="price">
                    </md-input-container>
                </div>
                <div fxLayout fxLayout.xs="column" fxLayoutGap="10px">
                    <md-input-container fxFlex="33%">
                        <input type="text" mdInput placeholder="Quantity" [(ngModel)]="stock.qty" name="qty">
                    </md-input-container>
                    <md-input-container fxFlex="33%">
                        <input type="text" mdInput placeholder="Generic Name" [(ngModel)]="stock.genericName" name="genericName">
                    </md-input-container>
                    <md-input-container fxFlex="33%">
                        <input type="text" mdInput placeholder="Company" [(ngModel)]="stock.company" name="company">
                    </md-input-container>
                </div>
                <div fxLayout fxLayout.xs="column" fxLayoutGap="10px">
                    <md-input-container fxFlex="100%">
                        <textarea mdInput placeholder="Description" [(ngModel)]="stock.description" name="description"></textarea>
                    </md-input-container>
                </div>
                <div fxLayout fxLayout.xs="column" fxLayoutGap="10px">
                    <md-input-container fxFlex="33%">
                        <input type="text" mdInput placeholder="Effects" [(ngModel)]="stock.effects" name="effects">
                    </md-input-container>
                    <div fxFlex="33%">
                        <md-input-container fxFlex="100%">
                            <input mdInput [mdDatepicker]="picker" placeholder="Expire date" [(ngModel)]="stock.expireDate" name="expireDate">
                            <button mdSuffix [mdDatepickerToggle]="picker"></button>
                        </md-input-container>
                        <md-datepicker #picker></md-datepicker>
                    </div>
                </div>
                <div fxLayout fxLayout.xs="column" fxLayoutGap="10px">
                    <div fxFlex="67%"></div>
                    <div fxFlex="33%" class="text-right">
                        <a md-raised-button routerLink="/app/medicine/stock/list">Cancel</a>
                        <button md-raised-button class="mat-primary" type="submit">Save</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>